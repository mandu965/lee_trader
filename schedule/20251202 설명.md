바로 요약부터 갈게.

---

## 1. 지금 Lee_trader 상태 한 줄 요약

* **60일 예측 모델 + 30일 보조(0.9 : 0.1)** → 백테스트 기준 **B등급, 실전 테스트 가능한 수준**
* 유니버스 평균, 룰베이스 모멘텀 Top10보다 **수익률·승률·MDD·Sharpe 모두 우위**
* 지금 웹 화면(“AI Stock Analyzer – 예측 리스트”)은
  **`pred_return_60d` / `pred_return_90d` / `score` / `pred_mdd_60d` / `risk_penalty`**를 보여주고 있어.

---

## 2. 오늘 기준으로 다시 잡는 핵심 체크리스트

“말하다 보면 본질 잃지 말자” 버전으로 아주 압축해서 정리했어.

### ✅ A. 전략 자체

* [x] 60일 예측 모델 + 30일 보조(0.9 : 0.1) 전략 성능 검증
* [x] 유니버스 평균 · 룰베이스 모멘텀과 비교 → **우위 확인 (B등급)**
* [ ] 벤치마크(KOSPI/KOSDAQ) 시계열 붙여서 정식 Alpha/Sharpe 비교
* [ ] “실전 운용 v1.0” 룰 확정

  * [ ] Top K: Top10 / Top20 중 하나 고르기
  * [ ] 기본 보유 기간: 60일 / 다음 리밸런스 교체
  * [ ] 손절/익절 룰(예: -10%, +20%) 도입 여부

### ✅ B. 화면 기준 실전에서 볼 핵심 지표

* [ ] **“예측 리스트 화면 기준 읽는 순서” 정해서 내 규칙으로 고정**

  * ① 60일 예측 수익률
  * ② 예측 최대낙폭(60일)
  * ③ 리스크 감점
  * ④ (필요하면) 점수/순위

---

## 3. 지금 화면에 나오는 지표, 코드 기준으로 정확히 어떻게 생겼는지

### 3-1. 60일 예측 수익률 (`pred_return_60d`)

* 모델이 뽑은 **“앞으로 60일 동안 수익률” 회귀값**
* 예: `0.22` → **+22% 예상**, `-0.10` → **-10% 예상 손실**
* 표시는 **“예측수익률(60d)”** 열로 22.58% 이런 식으로 보임.

### 3-2. 점수(`score`) – 지금 버전에서는 사실상 **pred_return_60d × 100**

코드랑 데이터를 까보면:

* `data/predictions.csv` 안에 `pred_return_60d`랑 `score`가 같이 들어있는데
* **score = pred_return_60d * 100** 이야.

실제 데이터에서:

* `pred_return_60d` 평균 ≈ 0.064 → 6.4%
* `score` 평균 ≈ 6.399 → 거의 그대로 100배 스케일
* 두 값의 차이(오차)는 float 오차 수준이라 사실상 동일.

👉 **정리**

* 지금 화면의 **“60일 예측 수익률”과 “점수”는 같은 정보**를 두 번 보여주는 거라고 보면 돼.
* 차이는 **“점수는 0~100 스케일이라 랭킹/정렬용으로 편한 버전”** 정도.

> 그래서 “뭘 더 믿어야 하나요?” 라고 하면
> **→ 지금 버전에서는 둘 중 아무거나 기준 삼아도 되고,
> 의미상은 60일 예측 수익률 하나만 본다고 생각해도 됨.**

(앞으로는 이 `score` 자리에 진짜 멀티팩터 점수(리턴+확률+퀄리티+리스크)를 넣을 여지가 있음)

### 3-3. 예측 최대낙폭(60일) (`pred_mdd_60d`)

* 모델이 예측한 **“60일 안에 예상 최대 하락폭”**
* 예: `-0.25` → -25%까지 빠질 수 있다고 보는 값
* UI에서는 **“예상 최대낙폭(60일)”** + 색깔 배지로 보임.

코드에서 이 값으로 리스크 감점을 계산함.

### 3-4. 리스크 감점 (`risk_penalty`)

`ranking_builder.py`를 보면:

```python
dd = pred_mdd_60d   # 예: -0.25
penalty_raw = (-dd) - 0.15   # 15%까지는 감점 없음
penalty_raw = max(penalty_raw, 0)
risk_penalty = penalty_raw * 100
```

즉:

* **예상 MDD가 -15% 이하면 감점 0점**
* -25%면: (0.25 - 0.15) * 100 = **10점 감점**
* -35%면: (0.35 - 0.15) * 100 = **20점 감점**

UI에서 보이는 `-10.8점`, `-17.9점` 이런 값이 이거야.

👉 해석 팁:

* **리스크 감점 0~5점**: 비교적 온순
* **10점 전후**: MDD -25% 근처, 중간 정도 리스크
* **20점↑**: MDD -35% 이상, 꽤 공격적인 구간

---

## 4. “60일 예측 수익률 vs 점수 vs 리스크” 우선순위 어떻게 잡을까?

**지금 코드/데이터 상태 기준으로 솔직하게 정리하면:**

### 4-1. 우선순위

1. **1순위: 60일 예측 수익률 (pred_return_60d)**

   * 현재 점수(score)가 사실상 이걸 100배 스케일로 바꾼 것이라
   * “예측수익률(60d)”만 믿어도 됨.

2. **2순위: 예측 최대낙폭 + 리스크 감점 (pred_mdd_60d, risk_penalty)**

   * “얼마나 먹을 수 있나?” 보다
   * “최대 얼마나 맞을 수 있나?” 같이 보면서
   * 본인 성향에 맞는 위험 영역만 고르기.

3. **3순위: 종합 순위(왼쪽 순번)**

   * 지금은 사실상 “예측수익률 기반 정렬”이기 때문에
   * 같은 구간 안에서 **위/아래를 보는 참고용** 정도.

### 4-2. 실전에서 쓸 수 있는 “내 규칙” 예시

앞으로 헷갈리지 않게, 오늘 기준으로 이렇게 잡아보자:

1. **필터링 규칙(먼저 탈락시킬 종목)**

   * 60일 예측수익률 < **+10%** → 일단 패스
   * 예상 최대낙폭 ≤ **-35%** (리스크 감점 ≈ 20점↑) → 본인 성향에 따라 제외

2. **후보 선정**

   * 위 필터 통과한 종목들 중에서
   * **예측수익률(60d) 높은 순 / 혹은 점수 높은 순** 정렬
   * 상위에서 10~20개만 “관심 리스트”로.

3. **실제 매수는**

   * 그 중에서

     * 이미 보유중인지,
     * 섹터 쏠림은 없는지(예: 2~3종목 이상 같은 섹터인지),
     * 하루에 너무 많은 종목 매수하지는 않는지
   * 이런 식으로 최종 손으로 한 번 더 거르기.

---

## 5. 오늘을 기점으로 요약

1. **예측수익률(60d) vs 점수**

   * **지금은 사실상 같은 정보** → 예측수익률 기준으로 생각해도 됨.
   * 점수는 “100배 스케일 + 정렬용 숫자” 정도.

2. **리스크 감점**

   * -15%까지는 감점 없음
   * 그 아래부터 선형으로 점수 깎이는 구조
   * **감점이 클수록 “먹을 건 더 클지 몰라도 맞을 가능성·폭도 크다”**라고 이해.

3. **오늘부터 적용할 루틴(간단 버전)**

   * 매일 예측 리스트에서:

     1. 60일 예측수익률 **10~15% 이상**만 보기
     2. 리스크 감점 **20점 미만**만 보기
     3. 그 안에서 예측수익률/점수 높은 순 상위 10~20개만 추려서 실제 검토

---

원하면 다음 단계로는:

* **“예측 리스트 화면 기준 실전 매매 루틴”**을
  아예 마크다운 체크리스트/데일리 플로우(아침에 1→2→3 단계) 형태로 만들어 줄게.
  그걸 핸드북처럼 두고 보면, 말하다 옆길로 새도 “루틴”은 안 잃어버릴 수 있어.
